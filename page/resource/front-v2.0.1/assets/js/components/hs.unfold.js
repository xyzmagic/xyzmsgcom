(function(b){function i(c,e){if(!c.length)return!1;this.element=c;this.config=e;this.target=b(this.element.data("unfold-target"));this.allInvokers=b('[data-unfold-target="'+this.element.data("unfold-target")+'"]');this.toggle=function(){if(!this.target.length)return this;this.defaultState?this.show():this.hide();return this};this.smartPosition=function(a){a.data("baseDirection")&&a.css(a.data("baseDirection").direction,a.data("baseDirection").value);a.removeClass("u-unfold--reverse-y");var c=b(window),
j=getComputedStyle(a.get(0)),g=Math.abs(parseInt(j.left,10))<40?"left":"right",d=a.offset();g==="right"?(a.data("baseDirection")||a.data("baseDirection",{direction:"right",value:parseInt(j.right,10)}),d.left<0&&a.css("right",(parseInt(a.css("right"),10)-(d.left-10))*-1)):(a.data("baseDirection")||a.data("baseDirection",{direction:"left",value:parseInt(j.left,10)}),d.left+a.outerWidth()>c.width()&&a.css("left",parseInt(a.css("left"),10)-(d.left+a.outerWidth()+10-c.width())));d.top+a.outerHeight()-
c.scrollTop()>c.height()&&a.addClass("u-unfold--reverse-y")};this.getOption=function(a){return this.config[a]?this.config[a]:null};return!0}function k(b,e){i.call(this,b,e)&&(Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}),this.target.addClass("u-unfold--simple"),this.hide())}function l(b,e){if(i.call(this,b,e)){var a=this;this.target.addClass("u-unfold--css-animation u-unfold--hidden").css("animation-duration",a.config.unfoldDuration+"ms");
Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}});if(this.target.length)this.target.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(b){a.target.hasClass(a.config.unfoldAnimationOut)&&(a.target.removeClass(a.config.unfoldAnimationOut).addClass("u-unfold--hidden"),a.allInvokers.length&&a.allInvokers.attr("aria-expanded","false"),a.config.afterClose.call(a.target,a.element));a.target.hasClass(a.config.unfoldAnimationIn)&&
(a.allInvokers.length&&a.allInvokers.attr("aria-expanded","true"),a.config.afterOpen.call(a.target,a.element));b.preventDefault();b.stopPropagation()})}}function m(b,e){i.call(this,b,e)&&(this.target.addClass("u-unfold--jquery-slide u-unfold--hidden").hide(),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}))}b.HSCore.components.HSUnfold={_baseConfig:{unfoldEvent:"click",unfoldType:"simple",unfoldDuration:300,unfoldEasing:"linear",unfoldAnimationIn:"fadeIn",
unfoldAnimationOut:"fadeOut",unfoldHideOnScroll:!0,unfoldHideOnBlur:!1,unfoldDelay:350,afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},_pageCollection:b(),init:function(c,e){var a;if(c&&c.length){a=this;var h;c.each(function(c,g){var d=b(g),f;if(!d.data("HSUnfold")){f=e&&b.isPlainObject(e)?b.extend(!0,{},a._baseConfig,e,d.data()):b.extend(!0,{},a._baseConfig,d.data());switch(f.unfoldType){case "css-animation":d.data("HSUnfold",new l(d,f));break;case "jquery-slide":d.data("HSUnfold",
new m(d,f));break;default:d.data("HSUnfold",new k(d,f))}a._pageCollection=a._pageCollection.add(d);a._bindEvents(d,f.unfoldEvent,f.unfoldDelay);f=b(g).data("HSUnfold");h=b(f.target).find("input, textarea").length;b(f.target).find("[data-unfold-target]").length&&d.addClass("target-of-invoker-has-unfolds")}});b(window).on("click",function(){a._pageCollection.each(function(c,g){var d=window.innerWidth,f=Boolean(b(g).data("is-mobile-only"));f?f&&d<769&&b(g).data("HSUnfold").hide():b(g).data("HSUnfold").hide();
b(g).data("HSUnfold").config.beforeClose.call(a.target,a.element)})});a._pageCollection.each(function(a,c){var d=b(c).data("HSUnfold").config.unfoldTarget;b(d).on("click",function(a){a.stopPropagation()})});b(window).on("scroll.HSUnfold",function(){a._pageCollection.each(function(a,c){var d=b(c).data("HSUnfold");d.getOption("unfoldHideOnScroll")&&h===0?d.hide():d.getOption("unfoldHideOnScroll")&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&d.hide()})});b(window).on("resize.HSUnfold",function(){a._resizeTimeOutId&&
clearTimeout(a._resizeTimeOutId);a._resizeTimeOutId=setTimeout(function(){a._pageCollection.each(function(a,c){var d=b(c).data("HSUnfold");d.smartPosition(d.target)})},50)});b(document).on("keydown.HSUnfold",function(a){b("body").hasClass("u-unfold-opened")&&(a.keyCode&&a.keyCode===38||a.keyCode&&a.keyCode===40)&&a.preventDefault()});return c}},_bindEvents:function(c,e,a){var h=b(c.data("unfold-target"));if(e==="hover"&&!("ontouchstart"in window)){if(c.on("mouseenter.HSUnfold",function(){var a=b(this).data("HSUnfold");
a&&(a.unfoldTimeOut&&clearTimeout(a.unfoldTimeOut),a.show(),b("body").addClass("u-unfold-opened"))}).on("mouseleave.HSUnfold",function(){var c=b(this).data("HSUnfold");if(c)c.unfoldTimeOut=setTimeout(function(){c.hide();b("body").removeClass("u-unfold-opened")},a)}),h.length)h.on("mouseenter.HSUnfold",function(){var a=c.data("HSUnfold");a.unfoldTimeOut&&clearTimeout(a.unfoldTimeOut);a.show()}).on("mouseleave.HSUnfold",function(){var b=c.data("HSUnfold");b.unfoldTimeOut=setTimeout(function(){b.hide()},
a)})}else c.on("click.HSUnfold",function(a){var c=b(this),d=b("[data-unfold-target].active:not(.target-of-invoker-has-unfolds)"),e=b("[data-unfold-target].active.target-of-invoker-has-unfolds");c.data("HSUnfold")&&(c.hasClass("target-of-invoker-has-unfolds")?e.length&&e.data("HSUnfold").toggle():d.length&&d.data("HSUnfold").toggle(),c.data("HSUnfold").toggle(),a.stopPropagation(),a.preventDefault())})}};k.prototype.show=function(){var c=b(this)[0].config.unfoldTarget;b('[data-unfold-target="'+c+'"]').addClass("active");
this.smartPosition(this.target);this.target.removeClass("u-unfold--hidden");this.allInvokers.length&&this.allInvokers.attr("aria-expanded","true");this.config.afterOpen.call(this.target,this.element);return this};k.prototype.hide=function(){var c=b(this)[0].config.unfoldTarget;b('[data-unfold-target="'+c+'"]').removeClass("active");this.target.addClass("u-unfold--hidden");this.allInvokers.length&&this.allInvokers.attr("aria-expanded","false");this.config.afterClose.call(this.target,this.element);
return this};l.prototype.show=function(){var c=b(this)[0].config.unfoldTarget;b('[data-unfold-target="'+c+'"]').addClass("active");this.smartPosition(this.target);this.target.removeClass("u-unfold--hidden").removeClass(this.config.unfoldAnimationOut).addClass(this.config.unfoldAnimationIn)};l.prototype.hide=function(){var c=b(this)[0].config.unfoldTarget;b('[data-unfold-target="'+c+'"]').removeClass("active");this.target.removeClass(this.config.unfoldAnimationIn).addClass(this.config.unfoldAnimationOut)};
m.prototype.show=function(){var c=this,e=b(this)[0].config.unfoldTarget;b('[data-unfold-target="'+e+'"]').addClass("active");this.smartPosition(this.target);this.target.removeClass("u-unfold--hidden").stop().slideDown({duration:c.config.unfoldDuration,easing:c.config.unfoldEasing,complete:function(){c.config.afterOpen.call(c.target,c.element)}})};m.prototype.hide=function(){var c=this,e=b(this)[0].config.unfoldTarget;b('[data-unfold-target="'+e+'"]').removeClass("active");this.target.slideUp({duration:c.config.unfoldDuration,
easing:c.config.unfoldEasing,complete:function(){c.config.afterClose.call(c.target,c.element);c.target.addClass("u-unfold--hidden")}})}})(jQuery);