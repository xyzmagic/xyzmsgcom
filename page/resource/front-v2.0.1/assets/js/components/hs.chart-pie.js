(function(d){d.HSCore.components.HSChartPie={_baseConfig:{bounds:-100,debounce:10,rtl:!1,wrpClass:"u-circles-wrap",textClass:"u-circles-text",valueStrokeClass:"u-circles-valueStroke",maxValueStrokeClass:"u-circles-maxValueStroke",styleWrapper:!0,styleText:!0},pageCollection:d(),appearCollectionIds:[],init:function(b,e){this.collection=b&&d(b).length?d(b):d();if(d(b).length)return this.config=e&&d.isPlainObject(e)?d.extend({},this._baseConfig,e):this._baseConfig,this.config.itemSelector=b,this.initCircles(),
this.pageCollection},initCircles:function(){var b=this.pageCollection.last(),e=0,c=this;b.length&&(e=+b.attr("id").substring(b.attr("id").lastIndexOf("-")+1));this.collection.each(function(b,h){var a=d(h),f="hs-pie-"+(e+(b+1)),g=0;a.attr("id",f);a.data("circles-scroll-animate")?(a.data("reminded-value",a.data("circles-value")||0),c.appearCollectionIds.push("#"+f)):g=a.data("circles-value")||0;f=Circles.create({id:f,radius:a.data("circles-radius")||80,value:g,maxValue:a.data("circles-max-value")||
100,width:a.data("circles-stroke-width")||10,text:function(b){return a.data("circles-type")=="iconic"?a.data("circles-icon"):a.data("circles-additional-text-type")==="prefix"?a.data("circles-secondary-text")?(a.data("circles-additional-text")||"")+(a.data("circles-is-hide-value")?"":b)+'<div style="margin-top: '+(a.data("circles-divider-space")/2+"px"||"0")+"; margin-bottom: "+(a.data("circles-divider-space")/2+"px"||"0")+';"></div><div style="font-weight: '+a.data("circles-secondary-font-weight")+
"; font-size: "+a.data("circles-secondary-font-size")+"px; color: "+a.data("circles-secondary-color")+';">'+a.data("circles-secondary-text")+"</div>":(a.data("circles-additional-text")||"")+(a.data("circles-is-hide-value")?"":b):a.data("circles-secondary-text")?(a.data("circles-is-hide-value")?"":b)+(a.data("circles-additional-text")||"")+'<div style="margin-top: '+(a.data("circles-divider-space")/2+"px"||"0")+"; margin-bottom: "+(a.data("circles-divider-space")/2+"px"||"0")+';"></div><div style="font-weight: '+
a.data("circles-secondary-font-weight")+"; font-size: "+a.data("circles-secondary-font-size")+"px; color: "+a.data("circles-secondary-color")+';">'+a.data("circles-secondary-text")+"</div>":(a.data("circles-is-hide-value")?"":b)+(a.data("circles-additional-text")||"")},colors:[a.data("circles-bg-color")||"#377dff",a.data("circles-fg-color")||"#e7eaf3"],duration:a.data("circles-duration")||1E3,wrpClass:a.data("circles-wrp-class")||c.config.wrpClass,textClass:a.data("circles-text-class")||c.config.textClass,
valueStrokeClass:c.config.valueStrokeClass,maxValueStrokeClass:c.config.maxValueStrokeClass,styleWrapper:c.config.styleWrapper,styleText:c.config.styleText});a.data("circle",f);a.find('[class="'+(a.data("circles-text-class")||c.config.textClass)+'"]').css({"font-size":a.data("circles-font-size"),"font-weight":a.data("circles-font-weight"),color:a.data("circles-color"),"line-height":"normal",height:"auto",top:"",left:""});c.config.rtl&&a.find("svg").css("transform","matrix(-1, 0, 0, 1, 0, 0)");a.data("circles-fg-stroke-linecap")&&
a.find('[class="'+c.config.valueStrokeClass+'"]').attr("stroke-linecap",a.data("circles-fg-stroke-linecap"));a.data("circles-fg-stroke-miterlimit")&&a.find('[class="'+c.config.valueStrokeClass+'"]').attr("stroke-miterlimit",a.data("circles-fg-stroke-miterlimit"));c.pageCollection=c.pageCollection.add(a)});c.appearCollectionIds.length&&c._initAppear()},_initAppear:function(){var b=this;appear({bounds:b.config.bounds,debounce:b.config.debounce,elements:function(){return document.querySelectorAll(b.appearCollectionIds.join(","))},
appear:function(b){b=d(b);b.data("circle").update(b.data("reminded-value"))}})},get:function(b){return b&&d.isNumeric(b)?this.pageCollection.eq(b):this.pageCollection},getById:function(b){return b&&this.pageCollection.filter("#"+b).length?this.pageCollection.filter("#"+b):null},getCircleAPI:function(b){return b&&d.isNumeric(b)&&this.pageCollection.eq(b).length?this.pageCollection.eq(b).data("circle"):null},getCircleAPIById:function(b){return b&&this.pageCollection.filter("#"+b).length?this.pageCollection.filter("#"+
b).data("circle"):null}}})(jQuery);