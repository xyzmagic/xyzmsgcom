(function(c){c.HSCore.components.HSProgressBar={_baseConfig:{bounds:-100,debounce:10,time:1E3,fps:60,rtl:!1,direction:"horizontal",useProgressElement:!1,indicatorSelector:"progress-bar-indicator",moveElementSelector:!1,moveElementTo:"currentPosition",onChange:function(){},beforeUpdate:function(){},afterUpdate:function(){},onMoveElementChange:function(){},beforeMoveElementUpdate:function(){},afterMoveElementUpdate:function(){}},_pageCollection:c(),init:function(b,a){if(b&&c(b).length)return this.extendHorizontalProgressBar(),
this.extendVerticalProgressBar(),this._initProgressBar(b,a&&c.isPlainObject(a)?c.extend(!0,{},this._baseConfig,a):this._baseConfig)},_initProgressBar:function(b,a){var g=this,e=c();appear({bounds:a.bounds,debounce:a.debounce,init:function(){c(b).each(function(b,f){var d=c(f);a.direction==="horizontal"?d.data("ProgressBar",new g.HorizontalProgressBar(d,a)):d.data("ProgressBar",new g.VerticalProgressBar(d,a));e=e.add(d);g._pageCollection=g._pageCollection.add(d)})},elements:function(){return document.querySelectorAll(b)},
appear:function(a){c(a).data("ProgressBar").update(c(a).data("value"))}});return e},HorizontalProgressBar:function(b,a){this.element=b;this.indicator=this.element.find(a.indicatorSelector);this.config=a;this.moveElement=a.moveElementSelector?b.parent().find(a.moveElementSelector):c();this.moveElement.length&&(a.rtl?this.moveElement.css({left:"auto",right:0,"margin-right":this.moveElement.outerWidth()/-2}):this.moveElement.css({left:0,"margin-left":this.moveElement.outerWidth()/-2}));this.config.useProgressElement?
(this.element.data("value",this.element.attr("value")),this.element.attr("value",0)):(this.element.data("value",this.indicator.length?Math.round(this.indicator.outerWidth()/this.element.outerWidth()*100):0),this.indicator.css("width","0%"))},VerticalProgressBar:function(b,a){this.element=b;this.config=a;this.indicator=b.find(a.indicatorSelector);this.indicator.length&&(b.data("value",parseInt(this.indicator.css("height"),10)/this.indicator.parent().outerHeight()*100),this.indicator.css("height",0))},
extendHorizontalProgressBar:function(){this.HorizontalProgressBar.prototype.update=function(b){var a=this;if(this.config.useProgressElement){var c=this.config.time/this.config.fps,e=parseInt(b/c,10),h=0,a=this;e==0&&(e=1);this.config.beforeUpdate.call(this.element);this.moveElement.length&&this.config.beforeMoveElementUpdate.call(this.moveElement);if(a.config.moveElementSelector&&a.config.moveElementTo=="end"){var f=0,d=parseInt(100/c,10);d==0&&(d=1);var i=setInterval(function(){a.moveSubElement(f+=
d);a.moveElement.length&&a.config.onMoveElementChange.call(a.moveElement,f+=d);f>100&&(clearInterval(i),a.moveSubElement(100),a.moveElement.length&&a.config.afterMoveElementUpdate.call(a.moveElement))},c)}this.element.data("intervalId",setInterval(function(){var c=h+=e;a.element.attr("value",c);a.config.onChange.call(a.element,c);a.config.moveElementSelector&&a.config.moveElementTo=="currentPosition"&&a.moveSubElement(c);h>b&&(a.element.attr("value",b),a.config.moveElementSelector&&a.config.moveElementTo==
"currentPosition"&&a.moveSubElement(b),clearInterval(a.element.data("intervalId")),a.config.afterUpdate.call(a.element))},c))}else this.indicator.length&&this.indicator.stop().animate({width:b+"%"},{duration:a.config.time,complete:function(){a.config.afterUpdate.call(a.element)}})};this.HorizontalProgressBar.prototype.moveSubElement=function(b){this.moveElement.length&&this.moveElement.css(this.config.rtl?"right":"left",b+"%")}},extendVerticalProgressBar:function(){this.VerticalProgressBar.prototype.update=
function(b){this.indicator.stop().animate({height:b+"%"})}},get:function(){return this._pageCollection},getAPI:function(b){return this._pageCollection.eq(b).length?this._pageCollection.eq(b).data("ProgressBar"):null}}})(jQuery);