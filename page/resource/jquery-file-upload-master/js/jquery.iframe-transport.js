(function(b){typeof define==="function"&&define.amd?define(["jquery"],b):typeof exports==="object"?b(require("jquery")):b(window.jQuery)})(function(b){var h=0;b.ajaxTransport("iframe",function(a){if(a.async){var g=a.initialIframeSrc||"javascript:false;",c,d,e;return{send:function(j,i){c=b('<form style="display:none;"></form>');c.attr("accept-charset",a.formAcceptCharset);e=/\?/.test(a.url)?"&":"?";if(a.type==="DELETE")a.url=a.url+e+"_method=DELETE",a.type="POST";else if(a.type==="PUT")a.url=a.url+
e+"_method=PUT",a.type="POST";else if(a.type==="PATCH")a.url=a.url+e+"_method=PATCH",a.type="POST";h+=1;d=b('<iframe src="'+g+'" name="iframe-transport-'+h+'"></iframe>').bind("load",function(){var f,e=b.isArray(a.paramName)?a.paramName:[a.paramName];d.unbind("load").bind("load",function(){var a;try{if(a=d.contents(),!a.length||!a[0].firstChild)throw Error();}catch(e){a=void 0}i(200,"success",{iframe:a});b('<iframe src="'+g+'"></iframe>').appendTo(c);window.setTimeout(function(){c.remove()},0)});
c.prop("target",d.prop("name")).prop("action",a.url).prop("method",a.type);a.formData&&b.each(a.formData,function(a,d){b('<input type="hidden"/>').prop("name",d.name).val(d.value).appendTo(c)});a.fileInput&&a.fileInput.length&&a.type==="POST"&&(f=a.fileInput.clone(),a.fileInput.after(function(a){return f[a]}),a.paramName&&a.fileInput.each(function(c){b(this).prop("name",e[c]||a.paramName)}),c.append(a.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),a.fileInput.removeAttr("form"));
c.submit();f&&f.length&&a.fileInput.each(function(a,c){var d=b(f[a]);b(c).prop("name",d.prop("name")).attr("form",d.attr("form"));d.replaceWith(c)})});c.append(d).appendTo(document.body)},abort:function(){d&&d.unbind("load").prop("src",g);c&&c.remove()}}}});b.ajaxSetup({converters:{"iframe text":function(a){return a&&b(a[0].body).text()},"iframe json":function(a){return a&&b.parseJSON(b(a[0].body).text())},"iframe html":function(a){return a&&b(a[0].body).html()},"iframe xml":function(a){return(a=
a&&a[0])&&b.isXMLDoc(a)?a:b.parseXML(a.XMLDocument&&a.XMLDocument.xml||b(a.body).html())},"iframe script":function(a){return a&&b.globalEval(b(a[0].body).text())}}})});