(function(a){typeof define==="function"&&define.amd?define(["jquery","./jquery.fileupload-process"],a):typeof exports==="object"?a(require("jquery")):a(window.jQuery)})(function(a){a.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{getNumberOfFiles:a.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",
acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(d,b){if(b.disabled)return d;var g=a.Deferred(),e=this.options,c=d.files[d.index],f;if(b.minFileSize||b.maxFileSize)f=c.size;a.type(b.maxNumberOfFiles)==="number"&&(e.getNumberOfFiles()||0)+d.files.length>b.maxNumberOfFiles?c.error=e.i18n("maxNumberOfFiles"):b.acceptFileTypes&&!b.acceptFileTypes.test(c.type)&&!b.acceptFileTypes.test(c.name)?c.error=e.i18n("acceptFileTypes"):
f>b.maxFileSize?c.error=e.i18n("maxFileSize"):a.type(f)==="number"&&f<b.minFileSize?c.error=e.i18n("minFileSize"):delete c.error;c.error||d.files.error?(d.files.error=!0,g.rejectWith(this,[d])):g.resolveWith(this,[d]);return g.promise()}}})});