'use strict';var PinchZoom=function(){function m(a,b){return b?Math.sqrt((b.clientX-a.clientX)**2+(b.clientY-a.clientY)**2):0}function n(a,b){return b?{clientX:(a.clientX+b.clientX)/2,clientY:(a.clientY+b.clientY)/2}:a}function p(a,b){return"number"===typeof a?a:a.trimRight().endsWith("%")?b*parseFloat(a)/100:parseFloat(a)}function l(){return q||(q=document.createElementNS("http://www.w3.org/2000/svg","svg"))}class k{constructor(a){this.id=-1;this.nativePointer=a;this.pageX=a.pageX;this.pageY=a.pageY;
this.clientX=a.clientX;this.clientY=a.clientY;self.Touch&&a instanceof Touch?this.id=a.identifier:self.PointerEvent&&a instanceof PointerEvent&&(this.id=a.pointerId)}getCoalesced(){return"getCoalescedEvents"in this.nativePointer?this.nativePointer.getCoalescedEvents().map(a=>new k(a)):[this]}}const r=()=>{};class u{constructor(a,b){this._element=a;this.startPointers=[];this.currentPointers=[];const {start:c=()=>!0,move:d=r,end:e=r}=b;this._startCallback=c;this._moveCallback=d;this._endCallback=e;
this._pointerStart=this._pointerStart.bind(this);this._touchStart=this._touchStart.bind(this);this._move=this._move.bind(this);this._triggerPointerEnd=this._triggerPointerEnd.bind(this);this._pointerEnd=this._pointerEnd.bind(this);this._touchEnd=this._touchEnd.bind(this);self.PointerEvent?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",
this._move),this._element.addEventListener("touchend",this._touchEnd))}_triggerPointerStart(a,b){if(!this._startCallback(a,b))return!1;this.currentPointers.push(a);this.startPointers.push(a);return!0}_pointerStart(a){0===a.button&&this._triggerPointerStart(new k(a),a)&&(self.PointerEvent&&a instanceof PointerEvent?(this._element.setPointerCapture(a.pointerId),this._element.addEventListener("pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd)):(window.addEventListener("mousemove",
this._move),window.addEventListener("mouseup",this._pointerEnd)))}_touchStart(a){for(const b of Array.from(a.changedTouches))this._triggerPointerStart(new k(b),a)}_move(a){const b=this.currentPointers.slice();var c="changedTouches"in a?Array.from(a.changedTouches).map(a=>new k(a)):[new k(a)];const d=[];for(const a of c)c=this.currentPointers.findIndex(b=>b.id===a.id),-1!==c&&(d.push(a),this.currentPointers[c]=a);0!==d.length&&this._moveCallback(b,d,a)}_triggerPointerEnd(a,b){const c=this.currentPointers.findIndex(b=>
b.id===a.id);if(-1===c)return!1;this.currentPointers.splice(c,1);this.startPointers.splice(c,1);this._endCallback(a,b);return!0}_pointerEnd(a){this._triggerPointerEnd(new k(a),a)&&(self.PointerEvent&&a instanceof PointerEvent?this.currentPointers.length||(this._element.removeEventListener("pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd)):(window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)))}_touchEnd(a){for(const b of Array.from(a.changedTouches))this._triggerPointerEnd(new k(b),
a)}}(function(a,b){void 0===b&&(b={});b=b.insertAt;if(a&&"undefined"!==typeof document){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css";"top"===b?c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d):c.appendChild(d);d.styleSheet?d.styleSheet.cssText=a:d.appendChild(document.createTextNode(a))}})("pinch-zoom {\n  display: block;\n  overflow: hidden;\n  touch-action: none;\n  --scale: 1;\n  --x: 0;\n  --y: 0;\n}\n\npinch-zoom \x3e * {\n  transform: translate(var(--x), var(--y)) scale(var(--scale));\n  transform-origin: 0 0;\n  will-change: transform;\n}\n");
let q;class t extends HTMLElement{constructor(){super();this._transform=l().createSVGMatrix();(new MutationObserver(()=>this._stageElChange())).observe(this,{childList:!0});const a=new u(this,{start:(b,c)=>{if(2===a.currentPointers.length||!this._positioningEl)return!1;c.preventDefault();return!0},move:b=>{this._onPointerMove(b,a.currentPointers)}});this.addEventListener("wheel",a=>this._onWheel(a))}static get observedAttributes(){return["min-scale"]}attributeChangedCallback(a,b,c){"min-scale"===
a&&this.scale<this.minScale&&this.setTransform({scale:this.minScale})}get minScale(){var a=this.getAttribute("min-scale");if(!a)return.01;a=parseFloat(a);return Number.isFinite(a)?Math.max(.01,a):.01}set minScale(a){this.setAttribute("min-scale",String(a))}connectedCallback(){this._stageElChange()}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}scaleTo(a,b={}){let {originX:c=0,originY:d=0}=b;const {relativeTo:e="content",allowChangeEvent:f=!1}=
b;(b="content"===e?this._positioningEl:this)&&this._positioningEl?(b=b.getBoundingClientRect(),c=p(c,b.width),d=p(d,b.height),"content"===e?(c+=this.x,d+=this.y):(b=this._positioningEl.getBoundingClientRect(),c-=b.left,d-=b.top),this._applyChange({allowChangeEvent:f,originX:c,originY:d,scaleDiff:a/this.scale})):this.setTransform({scale:a,allowChangeEvent:f})}setTransform(a={}){const {scale:b=this.scale,allowChangeEvent:c=!1}=a;let {x:d=this.x,y:e=this.y}=a;if(this._positioningEl){a=this.getBoundingClientRect();
var f=this._positioningEl.getBoundingClientRect();if(a.width&&a.height){var g=l().createSVGPoint();g.x=f.left-a.left;g.y=f.top-a.top;var h=l().createSVGPoint();h.x=f.width+g.x;h.y=f.height+g.y;f=l().createSVGMatrix().translate(d,e).scale(b).multiply(this._transform.inverse());g=g.matrixTransform(f);h=h.matrixTransform(f);g.x>a.width?d+=a.width-g.x:0>h.x&&(d+=-h.x);g.y>a.height?e+=a.height-g.y:0>h.y&&(e+=-h.y)}}this._updateTransform(b,d,e,c)}_updateTransform(a,b,c,d){a<this.minScale||a===this.scale&&
b===this.x&&c===this.y||(this._transform.e=b,this._transform.f=c,this._transform.d=this._transform.a=a,this.style.setProperty("--x",this.x+"px"),this.style.setProperty("--y",this.y+"px"),this.style.setProperty("--scale",this.scale+""),d&&(a=new Event("change",{bubbles:!0}),this.dispatchEvent(a)))}_stageElChange(){this._positioningEl=void 0;0!==this.children.length&&(this._positioningEl=this.children[0],1<this.children.length&&console.warn("\x3cpinch-zoom\x3e must not have more than one child."),this.setTransform({allowChangeEvent:!0}))}_onWheel(a){if(this._positioningEl){a.preventDefault();
var b=this._positioningEl.getBoundingClientRect(),{deltaY:c}=a,{ctrlKey:d,deltaMode:e}=a;1===e&&(c*=15);this._applyChange({scaleDiff:1-c/(d?100:300),originX:a.clientX-b.left,originY:a.clientY-b.top,allowChangeEvent:!0})}}_onPointerMove(a,b){if(this._positioningEl){var c=this._positioningEl.getBoundingClientRect(),d=n(a[0],a[1]),e=n(b[0],b[1]),f=d.clientX-c.left;c=d.clientY-c.top;a=m(a[0],a[1]);b=m(b[0],b[1]);this._applyChange({originX:f,originY:c,scaleDiff:a?b/a:1,panX:e.clientX-d.clientX,panY:e.clientY-
d.clientY,allowChangeEvent:!0})}}_applyChange(a={}){const {panX:b=0,panY:c=0,originX:d=0,originY:e=0,scaleDiff:f=1,allowChangeEvent:g=!1}=a;a=l().createSVGMatrix().translate(b,c).translate(d,e).translate(this.x,this.y).scale(f).translate(-d,-e).scale(this.scale);this.setTransform({allowChangeEvent:g,scale:a.a,x:a.e,y:a.f})}}customElements.define("pinch-zoom",t);return t}();