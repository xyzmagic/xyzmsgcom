'use strict';importScripts("../../comlink/3.2.0/umd/comlink.js");let emscriptenModule;
class ProcessWorker{async je(a,b){importScripts(atob("Li4vLi4uLy4uLy4uL3dlYmFzc2VtYmx5L21vempwZWcvbW96anBlZ19lbmMuanM\x3d"));const c={quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimize_coding:!0,smoothing:0,color_space:3,quant_table:3,trellis_multipass:!1,trellis_opt_zero:!1,trellis_opt_table:!1,trellis_loops:1,auto_subsample:!0,chroma_subsample:2,separate_chroma_quality:!1,chroma_quality:75};Object.assign(c,b);emscriptenModule||(emscriptenModule=init(mozjpeg_enc,atob("Li4vLi4uLy4uLy4uL3dlYmFzc2VtYmx5L21vempwZWcvbW96anBlZ19lbmMud2FzbQ\x3d\x3d")));
b=await emscriptenModule;a=b.encode(a.data,a.width,a.height,c);a=new Uint8Array(a);b.free_result();return a}async qu(a,b){importScripts(atob("Li4vLi4uLy4uLy4uL3dlYmFzc2VtYmx5L2ltYWdlcXVhbnQvaW1hZ2VxdWFudC5qcw\x3d\x3d"));var c={zx:!0,colors:256,dithering:1};Object.assign(c,b);b=c.zx;let d=c.dithering,e=c.colors;emscriptenModule||(emscriptenModule=init(imagequant,atob("Li4vLi4uLy4uLy4uL3dlYmFzc2VtYmx5L2ltYWdlcXVhbnQvaW1hZ2VxdWFudC53YXNt")));c=await emscriptenModule;a=b?c.zx_quantize(a.data,a.width,
a.height,d):c.quantize(a.data,a.width,a.height,e,d);c.free_result();return new ImageData(new Uint8ClampedArray(a.buffer),a.width,a.height)}async pe(a,b){importScripts(atob("Li4vLi4uLy4uLy4uL3dlYmFzc2VtYmx5L29wdGlwbmcvb3B0aXBuZy5qcw\x3d\x3d"));const c={level:2};Object.assign(c,b);emscriptenModule||(emscriptenModule=init(optipng,atob("Li4vLi4uLy4uLy4uL3dlYmFzc2VtYmx5L29wdGlwbmcvb3B0aXBuZy53YXNt")));b=await emscriptenModule;a=b.compress(a,c);a=new Uint8Array(a);b.free_result();return a}async we(a,b){importScripts(atob("Li4vLi4uLy4uLy4uL3dlYmFzc2VtYmx5L3dlYnBfZW5jL3dlYnBfZW5jLmpz"));
const c={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0};Object.assign(c,b);emscriptenModule||(emscriptenModule=init(webp_enc,atob("Li4vLi4uLy4uLy4uL3dlYmFzc2VtYmx5L3dlYnBfZW5jL3dlYnBfZW5jLndhc20\x3d")));
b=await emscriptenModule;a=b.encode(a.data,a.width,a.height,c);a=new Uint8Array(a);b.free_result();return a}async wd(a){importScripts(atob("Li4vLi4uLy4uLy4uL3dlYmFzc2VtYmx5L3dlYnBfZGVjL3dlYnBfZGVjLmpz"));emscriptenModule||(emscriptenModule=init(webp_dec,atob("Li4vLi4uLy4uLy4uL3dlYmFzc2VtYmx5L3dlYnBfZGVjL3dlYnBfZGVjLndhc20\x3d")));const b=await emscriptenModule;a=b.decode(a.data);a=new ImageData(new Uint8ClampedArray(a.buffer),a.width,a.height);b.free_result();return a}}
Comlink.expose(ProcessWorker,self);function init(a,b){return new Promise(c=>{const d=a({noInitialRun:!0,locateFile(a){return a.endsWith(".wasm")?b:a},onRuntimeInitialized(){delete d.then;c(d)}})})};