(function(a){a.widget("custom.localcatcomplete",a.ui.autocomplete,{_create:function(){this._super();this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderItem:function(b,c){return c.url?a('<li><a href="'+window.location.protocol+"//"+window.location.host+"/"+window.location.pathname.split("/")[1]+"/"+c.url+'">'+c.label+'<span class="fd-search__cat">\u8def '+c.category+"</span></a></li>").appendTo(b):a("<li>"+c.label+"</li>").appendTo(b)}});a.HSCore.components.HSLocalSearchAutocomplete=
{_baseConfig:{minLength:2},pageCollection:a(),init:function(b,c){this.collection=b&&a(b).length?a(b):a();if(a(b).length)return this.config=c&&a.isPlainObject(c)?a.extend({},this._baseConfig,c):this._baseConfig,this.config.itemSelector=b,this.initAutocomplete(),this.pageCollection},initAutocomplete:function(){var b=this.pageCollection;this.collection.each(function(c,e){var d=a(e),f=d.data("url");a.getJSON(f,function(a){d.localcatcomplete({delay:0,source:a,select:function(a,b){window.location=window.location.protocol+
"//"+window.location.host+"/"+window.location.pathname.split("/")[1]+"/"+b.item.url}})});b=b.add(d)})}}})(jQuery);