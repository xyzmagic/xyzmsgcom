(function(b){function i(a,c){this.element=a;this.config=c;this._items=b();this._makeItems();this._bindEvents()}function j(a,c){var d=this;this.element=a;this.config=c;Object.defineProperty(this,"section",{value:b(d.element.attr("href"))});Object.defineProperty(this,"offset",{get:function(){var a=c.parent,b=getComputedStyle(a.get(0)),e=b.position,g=d.section.offset().top;a.length&&e=="fixed"&&parseInt(b.top)==0&&(g=g-a.outerHeight()-parseInt(b.marginTop));d.config.over.length&&(g-=d.config.over.outerHeight());
return g}})}b.HSCore.components.HSScrollNav={_baseConfig:{duration:400,easing:"linear",over:b(),sectionClass:"u-scroll-nav-section",activeItemClass:"active",activeSectionClass:"active",afterShow:function(){},beforeShow:function(){},parent:b(".u-header")},_pageCollection:b(),init:function(a,c){var d=this;if(!a||!a.length)return b();a.each(function(a,h){var e=b(h),g=c&&b.isPlainObject(c)?b.extend(!0,{},d._baseConfig,c,e.data()):b.extend(!0,{},d._baseConfig,e.data());if(!e.data("HSScrollNav"))e.data("HSScrollNav",
new i(e,g)),d._pageCollection=d._pageCollection.add(e)});b(window).on("scroll.HSScrollNav",function(){d._pageCollection.each(function(a,c){b(c).data("HSScrollNav").highlight()})}).trigger("scroll.HSScrollNav");return a}};i.prototype._makeItems=function(){var a=this;this.element.find('a[href^="#"]').each(function(c,d){var f=b(d);if(!f.data("HSScrollNavSection"))f.data("HSScrollNavSection",new j(f,a.config)),a._items=a._items.add(f)})};i.prototype._bindEvents=function(){var a=this;this.element.on("click.HSScrollNav",
'a[href^="#"]',function(c){var d=this,f=b(this).data("HSScrollNavSection"),h=b(a.element).parent(),e=h.attr("id"),g=Boolean(a.element[0].dataset.mobileDestroy);window.innerWidth<=769&&g===!0?(b('[data-target="#'+e+'"]').trigger("click"),b('[data-target="#'+e+'"] > .u-hamburger__box').removeClass("is-active"),h.on("hidden.bs.collapse",function(){a._lockHightlight=!0;a.current&&a.current.unhighlight();d.blur();a.current=b(d).data("HSScrollNavSection");a.current.highlight();f.show(function(){a._lockHightlight=
!1})})):(a._lockHightlight=!0,a.current&&a.current.unhighlight(),d.blur(),a.current=b(d).data("HSScrollNavSection"),a.current.highlight(),f.show(function(){a._lockHightlight=!1}));c.preventDefault()})};i.prototype.highlight=function(){var a,c;if(this._items.length&&!this._lockHightlight)if(c=b(window).scrollTop(),c+b(window).height()===b(document).height())this.current=this._items.last().data("HSScrollNavSection"),this.unhighlight(),this.current.highlight(),this.current.changeHash();else if(this._items.each(function(d,
f){var h=b(f).data("HSScrollNavSection");c>h.offset&&(a=h)}),a&&this.current!=a)this.unhighlight(),a.highlight(),this.current&&a.changeHash(),this.current=a};i.prototype.unhighlight=function(){this._items.each(function(a,c){b(c).data("HSScrollNavSection").unhighlight()})};j.prototype.show=function(a){var c=this;this.section.length&&(c.config.beforeShow.call(c.section),this.changeHash(),b("html, body").stop().animate({scrollTop:c.offset+3},{duration:c.config.duration,easing:c.config.easing,complete:function(){b("html, body").stop().animate({scrollTop:c.offset+
3},{duration:c.config.duration,easing:c.config.easing,complete:function(){c.config.afterShow.call(c.section);b.isFunction(a)&&a()}})}}))};j.prototype.changeHash=function(){this.section.attr("id","");b(this.config.sectionClass).removeClass(this.config.activeSectionClass);this.section.addClass(this.config.activeSectionClass);window.location.hash=this.element.attr("href");this.section.attr("id",this.element.attr("href").slice(1))};j.prototype.highlight=function(){var a=this.element.parent("li");a.length&&
a.addClass(this.config.activeItemClass)};j.prototype.unhighlight=function(){var a=this.element.parent("li");a.length&&a.removeClass(this.config.activeItemClass)}})(jQuery);